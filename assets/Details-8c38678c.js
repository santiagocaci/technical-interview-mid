import{j as s}from"./index-56d1cdf4.js";import{u as o,g as l,H as x,a as j}from"./index-464e7cc0.js";var u="_1v3h61c0",h="_1v3h61c1";function p(i){const{id:n}=i,{data:e,isLoading:t}=o(`/comment/${n}`,()=>l(n));if(t)return s.jsx(x,{});if(!e)return s.jsx("span",{children:"Error!"});const{by:a,text:r,kids:c,time:d}=e;return s.jsxs(s.Fragment,{children:[s.jsxs("details",{open:!0,children:[s.jsx("summary",{children:s.jsxs("small",{className:u,children:[s.jsx("span",{children:a}),s.jsx("span",{children:". "}),s.jsx("span",{children:j(d)})]})}),s.jsxs("p",{className:h,children:[r==null?void 0:r.slice(0,300),"..."]})]}),c&&s.jsx(m,{ids:c.slice(0,10)})]})}function m(i){const{ids:n}=i;return console.log({ids:n}),s.jsx("ul",{style:{listStyle:"none",padding:"0 2rem",maxWidth:"768px",margin:"2rem auto 0"},children:n==null?void 0:n.map(e=>s.jsx("li",{children:s.jsx(p,{id:e})},e))})}function v(i){var r;const{params:{id:n}}=i,{data:e,isLoading:t}=o(`/story/${n}`,()=>l(Number(n)));if(t)return s.jsx("span",{children:"loading..."});if(!e)return s.jsx("span",{children:"Undefined?"});const a=((r=e.kids)==null?void 0:r.slice(0,10))??[];return s.jsx(m,{ids:a})}export{v as default};
