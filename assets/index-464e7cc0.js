import{R as jt,r as a,s as Qt,j as et}from"./index-56d1cdf4.js";const H=new WeakMap,gt={},ft={},z=()=>{},V=z(),pt=Object,u=t=>t===V,B=t=>typeof t=="function",Y=(t,e)=>({...t,...e}),St="undefined",Et=typeof window!=St,bt=typeof document!=St,Zt=()=>Et&&typeof window.requestAnimationFrame!=St,Ft=(t,e)=>{const n=H.get(t);return[()=>!u(e)&&t.get(e)||gt,o=>{if(!u(e)){const r=t.get(e);e in ft||(ft[e]=r),n[5](e,Y(r,o),r||gt)}},n[6],()=>!u(e)&&e in ft?ft[e]:!u(e)&&t.get(e)||gt]},dt=new WeakMap;let te=0;const at=t=>{const e=typeof t,n=t&&t.constructor,o=n==Date;let r,i;if(pt(t)===t&&!o&&n!=RegExp){if(r=dt.get(t),r)return r;if(r=++te+"~",dt.set(t,r),n==Array){for(r="@",i=0;i<t.length;i++)r+=at(t[i])+",";dt.set(t,r)}if(n==pt){r="#";const c=pt.keys(t).sort();for(;!u(i=c.pop());)u(t[i])||(r+=i+":"+at(t[i])+",");dt.set(t,r)}}else r=o?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return r};let Tt=!0;const ee=()=>Tt,[_t,Ot]=Et&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[z,z],ne=()=>{const t=bt&&document.visibilityState;return u(t)||t!=="hidden"},re=t=>(bt&&document.addEventListener("visibilitychange",t),_t("focus",t),()=>{bt&&document.removeEventListener("visibilitychange",t),Ot("focus",t)}),oe=t=>{const e=()=>{Tt=!0,t()},n=()=>{Tt=!1};return _t("online",e),_t("offline",n),()=>{Ot("online",e),Ot("offline",n)}},se={isOnline:ee,isVisible:ne},ie={initFocus:re,initReconnect:oe},Nt=!jt.useId,ct=!Et||"Deno"in window,ae=t=>Zt()?window.requestAnimationFrame(t):setTimeout(t,1),Rt=ct?a.useEffect:a.useLayoutEffect,vt=typeof navigator<"u"&&navigator.connection,Mt=!ct&&vt&&(["slow-2g","2g"].includes(vt.effectiveType)||vt.saveData),xt=t=>{if(B(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?at(t):"",[t,e]};let ce=0;const Ct=()=>++ce,Ut=0,Wt=1,Pt=2,ue=3;var it={__proto__:null,ERROR_REVALIDATE_EVENT:ue,FOCUS_EVENT:Ut,MUTATE_EVENT:Pt,RECONNECT_EVENT:Wt};async function qt(...t){const[e,n,o,r]=t,i=Y({populateCache:!0,throwOnError:!0},typeof r=="boolean"?{revalidate:r}:r||{});let c=i.populateCache;const d=i.rollbackOnError;let f=i.optimisticData;const O=i.revalidate!==!1,R=w=>typeof d=="function"?d(w):d!==!1,g=i.throwOnError;if(B(n)){const w=n,b=[],v=e.keys();for(let s=v.next();!s.done;s=v.next()){const A=s.value;!/^\$(inf|sub)\$/.test(A)&&w(e.get(A)._k)&&b.push(A)}return Promise.all(b.map(S))}return S(n);async function S(w){const[b]=xt(w);if(!b)return;const[v,s]=Ft(e,b),[A,k,j]=H.get(e),I=A[b],K=()=>O&&(delete j[b],I&&I[0])?I[0](Pt).then(()=>v().data):v().data;if(t.length<3)return K();let h=o,l;const F=Ct();k[b]=[F,0];const x=!u(f),U=v(),nt=U.data,X=U._c,C=u(X)?nt:X;if(x&&(f=B(f)?f(C):f,s({data:f,_c:C})),B(h))try{h=h(C)}catch(L){l=L}if(h&&B(h.then))if(h=await h.catch(L=>{l=L}),F!==k[b][0]){if(l)throw l;return h}else l&&x&&R(l)&&(c=!0,h=C,s({data:h,_c:V}));c&&(l||(B(c)&&(h=c(h,C)),s({data:h,_c:V}))),k[b][1]=Ct();const Q=await K();if(s({_c:V}),l){if(g)throw l;return}return c?Q:h}}const kt=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},le=(t,e)=>{if(!H.has(t)){const n=Y(ie,e),o={},r=qt.bind(V,t);let i=z;const c={},d=(R,g)=>{const S=c[R]||[];return c[R]=S,S.push(g),()=>S.splice(S.indexOf(g),1)},f=(R,g,S)=>{t.set(R,g);const w=c[R];if(w)for(const b of w)b(g,S)},O=()=>{if(!H.has(t)&&(H.set(t,[o,{},{},{},r,f,d]),!ct)){const R=n.initFocus(setTimeout.bind(V,kt.bind(V,o,Ut))),g=n.initReconnect(setTimeout.bind(V,kt.bind(V,o,Wt)));i=()=>{R&&R(),g&&g(),H.delete(t)}}};return O(),[t,r,O,i]}return[t,H.get(t)[4]]},fe=(t,e,n,o,r)=>{const i=n.errorRetryCount,c=r.retryCount,d=~~((Math.random()+.5)*(1<<(c<8?c:8)))*n.errorRetryInterval;!u(i)&&c>i||setTimeout(o,d,r)},de=(t,e)=>at(t)==at(e),[Ht,Ee]=le(new Map),he=Y({onLoadingSlow:z,onSuccess:z,onError:z,onErrorRetry:fe,onDiscarded:z,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Mt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Mt?5e3:3e3,compare:de,isPaused:()=>!1,cache:Ht,mutate:Ee,fallback:{}},se),me=(t,e)=>{const n=Y(t,e);if(e){const{use:o,fallback:r}=t,{use:i,fallback:c}=e;o&&i&&(n.use=o.concat(i)),r&&c&&(n.fallback=Y(r,c))}return n},ge=a.createContext({}),Bt=Et&&window.__SWR_DEVTOOLS_USE__,pe=Bt?window.__SWR_DEVTOOLS_USE__:[],Re=()=>{Bt&&(window.__SWR_DEVTOOLS_REACT__=jt)},Kt=t=>B(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],ve=()=>Y(he,a.useContext(ge)),ye=t=>(e,n,o)=>t(e,n&&((...i)=>{const[c]=xt(e),[,,,d]=H.get(Ht),f=d[c];return f?(delete d[c],f):n(...i)}),o),we=pe.concat(ye),be=t=>function(...n){const o=ve(),[r,i,c]=Kt(n),d=me(o,c);let f=t;const{use:O}=d,R=(O||[]).concat(we);for(let g=R.length;g--;)f=R[g](f);return f(r,i||d.fetcher||null,d)},Te=(t,e,n)=>{const o=e[t]||(e[t]=[]);return o.push(n),()=>{const r=o.indexOf(n);r>=0&&(o[r]=o[o.length-1],o.pop())}},Le=(t,e)=>(...n)=>{const[o,r,i]=Kt(n),c=(i.use||[]).concat(e);return t(o,r,{...i,use:c})};Re();const yt={dedupe:!0},_e=(t,e,n)=>{const{cache:o,compare:r,suspense:i,fallbackData:c,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:O,refreshWhenHidden:R,refreshWhenOffline:g,keepPreviousData:S}=n,[w,b,v]=H.get(o),[s,A]=xt(t),k=a.useRef(!1),j=a.useRef(!1),I=a.useRef(s),K=a.useRef(e),h=a.useRef(n),l=()=>h.current,F=()=>l().isVisible()&&l().isOnline(),[x,U,nt,X]=Ft(o,s),C=a.useRef({}).current,Q=u(c)?n.fallback[s]:c,L=(E,p)=>{for(const T in C){const m=T;if(m==="data"){if(!r(E[m],p[m])&&(!u(E[m])||!r(ot,p[m])))return!1}else if(p[m]!==E[m])return!1}return!0},ut=a.useMemo(()=>{const E=(()=>!s||!e?!1:u(d)?l().isPaused()||i?!1:u(f)?!0:f:d)(),p=_=>{const P=Y(_);return delete P._k,E?{isValidating:!0,isLoading:!0,...P}:P},T=x(),m=X(),M=p(T),tt=T===m?M:p(m);let y=M;return[()=>{const _=p(x());return L(_,y)?(y.data=_.data,y.isLoading=_.isLoading,y.isValidating=_.isValidating,y.error=_.error,y):(y=_,_)},()=>tt]},[o,s]),N=Qt.useSyncExternalStore(a.useCallback(E=>nt(s,(p,T)=>{L(T,p)||E()}),[o,s]),ut[0],ut[1]),rt=!k.current,lt=w[s]&&w[s].length>0,W=N.data,G=u(W)?Q:W,$=N.error,Z=a.useRef(G),ot=S?u(W)?Z.current:W:G,Dt=(()=>lt&&!u($)?!1:rt&&!u(d)?d:l().isPaused()?!1:i?u(G)?!1:f:u(G)||f)(),At=!!(s&&e&&rt&&Dt),zt=u(N.isValidating)?At:N.isValidating,Jt=u(N.isLoading)?At:N.isLoading,st=a.useCallback(async E=>{const p=K.current;if(!s||!p||j.current||l().isPaused())return!1;let T,m,M=!0;const tt=E||{},y=!v[s]||!tt.dedupe,_=()=>Nt?!j.current&&s===I.current&&k.current:s===I.current,P={isValidating:!1,isLoading:!1},It=()=>{U(P)},Vt=()=>{const D=v[s];D&&D[1]===m&&delete v[s]},Lt={isValidating:!0};u(x().data)&&(Lt.isLoading=!0);try{if(y&&(U(Lt),n.loadingTimeout&&u(x().data)&&setTimeout(()=>{M&&_()&&l().onLoadingSlow(s,n)},n.loadingTimeout),v[s]=[p(A),Ct()]),[T,m]=v[s],T=await T,y&&setTimeout(Vt,n.dedupingInterval),!v[s]||v[s][1]!==m)return y&&_()&&l().onDiscarded(s),!1;P.error=V;const D=b[s];if(!u(D)&&(m<=D[0]||m<=D[1]||D[1]===0))return It(),y&&_()&&l().onDiscarded(s),!1;const q=x().data;P.data=r(q,T)?q:T,y&&_()&&l().onSuccess(T,s,n)}catch(D){Vt();const q=l(),{shouldRetryOnError:ht}=q;q.isPaused()||(P.error=D,y&&_()&&(q.onError(D,s,q),(ht===!0||B(ht)&&ht(D))&&F()&&q.onErrorRetry(D,s,q,Xt=>{const mt=w[s];mt&&mt[0]&&mt[0](it.ERROR_REVALIDATE_EVENT,Xt)},{retryCount:(tt.retryCount||0)+1,dedupe:!0})))}return M=!1,It(),!0},[s,o]),Yt=a.useCallback((...E)=>qt(o,I.current,...E),[]);if(Rt(()=>{K.current=e,h.current=n,u(W)||(Z.current=W)}),Rt(()=>{if(!s)return;const E=st.bind(V,yt);let p=0;const m=Te(s,w,(M,tt={})=>{if(M==it.FOCUS_EVENT){const y=Date.now();l().revalidateOnFocus&&y>p&&F()&&(p=y+l().focusThrottleInterval,E())}else if(M==it.RECONNECT_EVENT)l().revalidateOnReconnect&&F()&&E();else{if(M==it.MUTATE_EVENT)return st();if(M==it.ERROR_REVALIDATE_EVENT)return st(tt)}});return j.current=!1,I.current=s,k.current=!0,U({_k:A}),Dt&&(u(G)||ct?E():ae(E)),()=>{j.current=!0,m()}},[s]),Rt(()=>{let E;function p(){const m=B(O)?O(x().data):O;m&&E!==-1&&(E=setTimeout(T,m))}function T(){!x().error&&(R||l().isVisible())&&(g||l().isOnline())?st(yt).then(p):p()}return p(),()=>{E&&(clearTimeout(E),E=-1)}},[O,R,g,s]),a.useDebugValue(ot),i&&u(G)&&s)throw!Nt&&ct?new Error("Fallback data is required when using suspense in SSR."):(K.current=e,h.current=n,j.current=!1,u($)?st(yt):$);return{mutate:Yt,get data(){return C.data=!0,ot},get error(){return C.error=!0,$},get isValidating(){return C.isValidating=!0,zt},get isLoading(){return C.isLoading=!0,Jt}}},Ne=be(_e),Gt="https://hacker-news.firebaseio.com/v0/",Me=async(t,e)=>{const o=await(await fetch(Gt+"topstories.json")).json(),r=(t-1)*e,i=r+e;return o.slice(r,i)},ke=async t=>await(await fetch(Gt+"/item/"+t+".json")).json();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var J=function(){return J=Object.assign||function(e){for(var n,o=1,r=arguments.length;o<r;o++){n=arguments[o];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},J.apply(this,arguments)};function Oe(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}var Ce=function(){return Math.random().toString(36).substring(6)},Se=function(t){var e=t.animate,n=e===void 0?!0:e,o=t.animateBegin,r=t.backgroundColor,i=r===void 0?"#f5f6f7":r,c=t.backgroundOpacity,d=c===void 0?1:c,f=t.baseUrl,O=f===void 0?"":f,R=t.children,g=t.foregroundColor,S=g===void 0?"#eee":g,w=t.foregroundOpacity,b=w===void 0?1:w,v=t.gradientRatio,s=v===void 0?2:v,A=t.gradientDirection,k=A===void 0?"left-right":A,j=t.uniqueKey,I=t.interval,K=I===void 0?.25:I,h=t.rtl,l=h===void 0?!1:h,F=t.speed,x=F===void 0?1.2:F,U=t.style,nt=U===void 0?{}:U,X=t.title,C=X===void 0?"Loading...":X,Q=t.beforeMask,L=Q===void 0?null:Q,ut=Oe(t,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),N=j||Ce(),rt=N+"-diff",lt=N+"-animated-diff",W=N+"-aria",G=l?{transform:"scaleX(-1)"}:null,$="0; "+K+"; 1",Z=x+"s",ot=k==="top-bottom"?"rotate(90)":void 0;return a.createElement("svg",J({"aria-labelledby":W,role:"img",style:J(J({},nt),G)},ut),C?a.createElement("title",{id:W},C):null,L&&a.isValidElement(L)?L:null,a.createElement("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+O+"#"+rt+")",style:{fill:"url("+O+"#"+lt+")"}}),a.createElement("defs",null,a.createElement("clipPath",{id:rt},R),a.createElement("linearGradient",{id:lt,gradientTransform:ot},a.createElement("stop",{offset:"0%",stopColor:i,stopOpacity:d},n&&a.createElement("animate",{attributeName:"offset",values:-s+"; "+-s+"; 1",keyTimes:$,dur:Z,repeatCount:"indefinite",begin:o})),a.createElement("stop",{offset:"50%",stopColor:S,stopOpacity:b},n&&a.createElement("animate",{attributeName:"offset",values:-s/2+"; "+-s/2+"; "+(1+s/2),keyTimes:$,dur:Z,repeatCount:"indefinite",begin:o})),a.createElement("stop",{offset:"100%",stopColor:i,stopOpacity:d},n&&a.createElement("animate",{attributeName:"offset",values:"0; 0; "+(1+s),keyTimes:$,dur:Z,repeatCount:"indefinite",begin:o})))))},$t=function(t){return t.children?a.createElement(Se,J({},t)):a.createElement(xe,J({},t))},xe=function(t){return a.createElement($t,J({viewBox:"0 0 476 124"},t),a.createElement("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),a.createElement("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),a.createElement("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),a.createElement("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),a.createElement("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),a.createElement("circle",{cx:"20",cy:"20",r:"20"}))};const De=$t,Ae=()=>et.jsxs(De,{speed:1,width:340,height:55,viewBox:"0 0 340 55",backgroundColor:"#242424",foregroundColor:"burlywood",children:[et.jsx("rect",{x:"9",y:"4",rx:"0",ry:"0",width:"320",height:"22"}),et.jsx("rect",{x:"18",y:"14",rx:"0",ry:"0",width:"303",height:"6"}),et.jsx("rect",{x:"11",y:"33",rx:"0",ry:"0",width:"108",height:"13"}),et.jsx("rect",{x:"129",y:"33",rx:"0",ry:"0",width:"60",height:"13"}),et.jsx("rect",{x:"196",y:"33",rx:"0",ry:"0",width:"60",height:"13"})]}),je=Ae,wt={year:31536e3,month:2592e3,day:86400,hour:3600,minute:60,second:1},Ie=new Intl.RelativeTimeFormat("en",{numeric:"auto"}),Fe=t=>{const e=new Date(t*1e3).getTime(),n=new Date().getTime(),o=(e-n)/1e3;for(const r in wt)if(Math.abs(o)>wt[r]||r==="second")return Ie.format(Math.round(o/wt[r]),r);return"just now"};export{je as H,V as U,Fe as a,Rt as b,Ft as c,B as d,Me as e,ke as g,u as i,xt as s,Ne as u,Le as w};
